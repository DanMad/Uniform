// * React imports
import PropTypes from 'prop-types';
import React from 'react';

// * utility imports
import namespace from '../utilities/js/namespace';
import randomise from '../utilities/js/randomise';

// * child imports
import Heading from '../heading';
import Grid from '../grid';
import GridItem from '../grid-item';
import Button from '../button';

class ModalImage extends React.Component {
  constructor(props) {
    super(props);

    this.skinTones = [
      {
        base: '#fbd0ba',
        shade: '#f6a988'
      },
      {
        base: '#f4b98c',
        shade: '#e88754'
      },
      {
        base: '#e29f71',
        shade: '#c6673b'
      },
      {
        base: '#d88657',
        shade: '#b64d28'
      },
      {
        base: '#bc6648',
        shade: '#8c321f'
      },
      {
        base: '#943',
        shade: '#601c13'
      }
    ];

    this.skinTone = this.skinTones[randomise(0, this.skinTones.length - 1)];
  }

  render() {
    const { props, skinTone } = this;

    return (
      <svg
        className={props.className}
        width="256"
        height="168"
        viewBox="0 0 256 168"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink">
        <defs>
          <rect id="prototype-a" width="256" height="168" x="0" y="0" />
          <rect
            id="prototype-c"
            width="59.789"
            height="63.364"
            x="5.605"
            y="46.591"
          />
          <rect id="prototype-e" width="12.145" height="19" x="56.053" y="0" />
          <rect id="prototype-g" width="12.145" height="19" x="56.053" y="0" />
          <polygon id="prototype-i" points="76 112 180 168 76 168" />
          <circle id="prototype-l" cx="128" cy="140" r="6" />
          <filter
            id="prototype-k"
            width="300%"
            height="300%"
            x="-100%"
            y="-100%"
            filterUnits="objectBoundingBox">
            <feOffset in="SourceAlpha" result="shadowOffsetOuter1" />
            <feGaussianBlur
              in="shadowOffsetOuter1"
              result="shadowBlurOuter1"
              stdDeviation="4"
            />
            <feColorMatrix
              in="shadowBlurOuter1"
              values="0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 1 0"
            />
          </filter>
        </defs>
        <g fill="none" fillRule="evenodd">
          <mask id="prototype-b" fill="var(--blizzard, #fff)" data-fill="#fff">
            <use xlinkHref="#prototype-a" />
          </mask>
          <g
            fill="var(--viking-tint, #21d0d9)"
            data-fill="#21d0d9"
            mask="url(#prototype-b)">
            <g transform="translate(28)">
              <circle cx="100" cy="100" r="100" fillOpacity="0.13" />
              <circle cx="165.5" cy="12.5" r="4.5" fillOpacity="0.13" />
              <circle cx="14" cy="158" r="2" fillOpacity="0.13" />
              <circle cx="9.5" cy="159.5" r="1.5" fillOpacity="0.13" />
              <circle cx="3" cy="154" r="1" fillOpacity="0.13" />
              <circle cx="23" cy="25" r="2" fillOpacity="0.13" />
              <circle cx="17" cy="32" r="5" fillOpacity="0.13" />
              <circle cx="24" cy="31" r="1" fillOpacity="0.13" />
              <circle cx="17" cy="23" r="1" fillOpacity="0.13" />
              <circle cx="7.5" cy="10.5" r="2.5" fillOpacity="0.13" />
              <circle cx="1" cy="51" r="1" fillOpacity="0.13" />
              <circle cx="193" cy="7" r="1" fillOpacity="0.13" />
              <circle cx="194" cy="40" r="2" fillOpacity="0.13" />
              <circle cx="191" cy="159" r="2" fillOpacity="0.13" />
              <circle cx="195" cy="156" r="1" fillOpacity="0.13" />
              <circle cx="190" cy="37" r="1" fillOpacity="0.13" />
              <circle cx="198" cy="138" r="1" fillOpacity="0.13" />
            </g>
          </g>
          <g mask="url(#prototype-b)">
            <g className={namespace('humanoid')} transform="translate(-12, 1)">
              <rect width="280" height="361.348" y=".652" />
              <g
                className={namespace('humanoid__head')}
                transform="translate(104.533)">
                <rect width="71" height="205" />
                <rect width="71" height="205" />
                <g
                  className={namespace('humanoid__bun')}
                  transform="translate(13.079)">
                  <rect width="44.842" height="67.1" />
                  <ellipse
                    cx="16.816"
                    cy="16.773"
                    fill="var(--saddle, #532626)"
                    rx="16.816"
                    ry="16.773"
                    data-fill="#532626"
                  />
                  <ellipse
                    cx="31.763"
                    cy="20.5"
                    fill="var(--saddle, #532626)"
                    rx="13.079"
                    ry="13.045"
                    data-fill="#532626"
                  />
                </g>
                <ellipse
                  cx="35.5"
                  cy="52.182"
                  fill="var(--saddle, #532626)"
                  rx="28.026"
                  ry="27.955"
                  data-fill="#532626"
                />
                <mask
                  id="prototype-d"
                  fill="var(--blizzard, #fff)"
                  data-fill="#fff">
                  <use xlinkHref="#prototype-c" />
                </mask>
                <g mask="url(#prototype-d)">
                  <g transform="translate(5.605 31.682)">
                    <rect width="60" height="101" />
                    <rect
                      width="15"
                      height="28.056"
                      x="22.5"
                      y="50.5"
                      fill={skinTone.base}
                      rx="7.5"
                      data-fill="#e29f71"
                    />
                    <path
                      fill={skinTone.shade}
                      d="M30,65.462963 L30,65.462963 C25.875,65.462963 22.5,62.0962963 22.5,57.9814815 C22.5,53.8666667 25.875,50.5 30,50.5 C34.125,50.5 37.5,53.8666667 37.5,57.9814815 C37.5,62.0962963 34.125,65.462963 30,65.462963"
                    />
                    <g
                      className={namespace('humanoid__right-ear')}
                      transform="translate(45 28.056)">
                      <rect width="15" height="7.481" />
                      <path
                        fill={skinTone.base}
                        d="M0,7.48148148 L7.5,7.48148148 C9.5709375,7.48148148 11.25,5.80656481 11.25,3.74074074 C11.25,1.67491667 9.5709375,0 7.5,0 L0,0 L0,7.48148148 Z"
                        data-fill="#e29f71"
                      />
                    </g>
                    <g
                      className={namespace('humanoid__left-ear')}
                      transform="translate(0 28.056)">
                      <rect width="15" height="7.481" />
                      <path
                        fill={skinTone.base}
                        d="M15,7.48148148 L7.5,7.48148148 C5.4290625,7.48148148 3.75,5.80656481 3.75,3.74074074 C3.75,1.67491667 5.4290625,0 7.5,0 L15,0 L15,7.48148148 Z"
                        data-fill="#e29f71"
                      />
                    </g>
                    <path
                      fill={skinTone.base}
                      d="M52.5,29.9259259 C52.5,46.4539213 42.4265625,59.8518519 30,59.8518519 C17.5734375,59.8518519 7.5,46.4539213 7.5,29.9259259 L7.5,22.4444444 C7.5,10.0485648 17.5734375,0 30,0 C42.4265625,0 52.5,10.0485648 52.5,22.4444444 L52.5,29.9259259 Z"
                      data-fill="#e29f71"
                    />
                    <path
                      fill="var(--saddle, #532626)"
                      d="M12.592605 2.58788183C11.2890676 2.12710407 9.91002171 1.88888889 8.4997549 1.88888889 7.08970756 1.88888889 5.71087069 2.1270299 4.40751039 2.58766777 3.91571896 2.76147831 3.65794451 3.30105533 3.83175506 3.79284676 4.0055656 4.2846382 4.54514261 4.54241264 5.03693405 4.3686021 6.13883034 3.9791663 7.30487024 3.77777778 8.4997549 3.77777778 9.69482531 3.77777778 10.8610415 3.97922896 11.9630875 4.368783 12.4548698 4.54261945 12.9944604 4.28487344 13.1682969 3.79309116 13.3421333 3.30130888 13.0843873 2.76171829 12.592605 2.58788183zM11.3333333 8.5C11.3333333 10.0644722 10.0644722 11.3333333 8.5 11.3333333 6.93552778 11.3333333 5.66666667 10.0644722 5.66666667 8.5 5.66666667 6.93552778 6.93552778 5.66666667 8.5 5.66666667 10.0644722 5.66666667 11.3333333 6.93552778 11.3333333 8.5"
                      transform="translate(11.25 23.38)"
                      data-fill="#532626"
                    />
                    <path
                      fill="var(--saddle, #532626)"
                      d="M43.0965169,31.8769147 C43.0965169,33.4413869 41.8276558,34.710248 40.2631836,34.710248 C38.6987114,34.710248 37.4298503,33.4413869 37.4298503,31.8769147 C37.4298503,30.3124425 38.6987114,29.0435814 40.2631836,29.0435814 C41.8276558,29.0435814 43.0965169,30.3124425 43.0965169,31.8769147"
                      transform="matrix(-1 0 0 1 80.526 0)"
                      data-fill="#532626"
                    />
                    <path
                      className={namespace('humanoid__right-eyebrow')}
                      stroke="var(--saddle, #532626)"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="2"
                      d="M44.0409614,26.8552471 C42.8592635,26.4375375 41.5876099,26.210248 40.26287,26.210248 C38.9383389,26.210248 37.6668773,26.4374659 36.4853373,26.8550496"
                      transform="matrix(-1 0 0 1 80.526 0)"
                      data-stroke="#532626"
                    />

                    {/* <path fill="var(--saddle, #532626)" d="M12.592605 2.58788183C11.2890676 2.12710407 9.91002171 1.88888889 8.4997549 1.88888889 7.08970756 1.88888889 5.71087069 2.1270299 4.40751039 2.58766777 3.91571896 2.76147831 3.65794451 3.30105533 3.83175506 3.79284676 4.0055656 4.2846382 4.54514261 4.54241264 5.03693405 4.3686021 6.13883034 3.9791663 7.30487024 3.77777778 8.4997549 3.77777778 9.69482531 3.77777778 10.8610415 3.97922896 11.9630875 4.368783 12.4548698 4.54261945 12.9944604 4.28487344 13.1682969 3.79309116 13.3421333 3.30130888 13.0843873 2.76171829 12.592605 2.58788183zM11.3333333 8.5C11.3333333 10.0644722 10.0644722 11.3333333 8.5 11.3333333 6.93552778 11.3333333 5.66666667 10.0644722 5.66666667 8.5 5.66666667 6.93552778 6.93552778 5.66666667 8.5 5.66666667 10.0644722 5.66666667 11.3333333 6.93552778 11.3333333 8.5" transform="matrix(-1 0 0 1 48.75 23.38)" data-fill="#532626"/> */}
                    <path
                      fill={skinTone.shade}
                      d="M31.621875,37.4074074 C31.7676562,37.4074074 31.8759375,37.5383333 31.8548437,37.6823519 C31.7217187,38.5848056 30.9421875,39.2777778 30,39.2777778 C29.0582812,39.2777778 28.2782812,38.5848056 28.1451562,37.6823519 C28.1240625,37.5383333 28.2328125,37.4074074 28.3785937,37.4074074 L31.621875,37.4074074 Z"
                      data-fill="#c6673b"
                    />
                    <path
                      fill={skinTone.shade}
                      d="M8.00007255,3.0625 L2.03645347,3.0625 C1.07466197,3.0625 1.07466197,3.0625 0,3.0625 C-0.276142375,3.0625 -0.5,3.25837542 -0.5,3.5 C-0.5,3.74162458 -0.276142375,3.9375 0,3.9375 L3.99974048,3.9375 C5.95120313,3.9375 5.95120313,3.9375 8.00007255,3.9375 C8.27621492,3.9375 8.50007255,3.74162458 8.50007255,3.5 C8.50007255,3.25837542 8.27621492,3.0625 8.00007255,3.0625 Z"
                      transform="translate(26.25 41.148)"
                      data-fill="#c6673b"
                    />
                    <path
                      fill={skinTone.shade}
                      d="M31.3252031,46.7592593 C31.6383281,46.7592593 31.8769219,47.063662 31.7761406,47.3596481 C31.5253594,48.0979769 30.8250469,48.6296296 30.0000469,48.6296296 C29.1750469,48.6296296 28.4742656,48.0979769 28.2239531,47.3596481 C28.1231719,47.063662 28.3617656,46.7592593 28.6748906,46.7592593 L31.3252031,46.7592593 Z"
                      data-fill="#c6673b"
                    />
                  </g>
                </g>
                <path
                  fill="var(--saddle, #532626)"
                  d="M51.3660195,54.0454545 C55.1832037,54.0454545 57.9423945,50.3032727 56.6900853,46.7064545 C53.6450261,37.9604091 45.3099998,31.6818182 35.5045261,31.6818182 C25.6990524,31.6818182 17.3640261,37.9604091 14.3184998,46.7064545 C13.0666577,50.3032727 15.8258485,54.0454545 19.6430327,54.0454545 L40.1854067,54.0454545 C43.2731805,54.0454545 45.7763158,51.5423193 45.7763158,48.4545455 L45.7763158,48.4545455 L45.7763158,48.4557508 C45.7763158,51.5428589 48.2789114,54.0454545 51.3660195,54.0454545 L51.3660195,54.0454545 Z"
                  data-fill="#532626"
                />
                <g transform="translate(11.21 52.182)">
                  <ellipse
                    cx="12.25"
                    cy="11"
                    fill="#000"
                    fillOpacity="0.13"
                    rx="10.365"
                    ry="10.083"
                  />
                  <ellipse
                    cx="36.75"
                    cy="11"
                    fill="#000"
                    fillOpacity="0.13"
                    rx="10.365"
                    ry="10.083"
                  />
                  <path
                    fill="var(--candlelight, #fada0a)"
                    d="M23.2699138,8.52329307 C23.6418071,8.34818087 24.0591172,8.25 24.5,8.25 C24.9408828,8.25 25.3581929,8.34818087 25.7300862,8.52329307 C26.8849489,3.64086888 31.3803959,0 36.75,0 C42.995066,0 48.0576923,4.92486775 48.0576923,11 C48.0576923,17.0751322 42.995066,22 36.75,22 C30.504934,22 25.4423077,17.0751322 25.4423077,11 C25.4423077,10.493739 25.0204222,10.0833333 24.5,10.0833333 C23.9795778,10.0833333 23.5576923,10.493739 23.5576923,11 C23.5576923,17.0751322 18.495066,22 12.25,22 C6.00493398,22 0.942307692,17.0751322 0.942307692,11 C0.942307692,4.92486775 6.00493398,0 12.25,0 C17.6196041,0 22.1150511,3.64086888 23.2699138,8.52329307 Z M12.25,20.1666667 C17.4542217,20.1666667 21.6730769,16.0626102 21.6730769,11 C21.6730769,5.93738979 17.4542217,1.83333333 12.25,1.83333333 C7.04577832,1.83333333 2.82692308,5.93738979 2.82692308,11 C2.82692308,16.0626102 7.04577832,20.1666667 12.25,20.1666667 Z M36.75,20.1666667 C41.9542217,20.1666667 46.1730769,16.0626102 46.1730769,11 C46.1730769,5.93738979 41.9542217,1.83333333 36.75,1.83333333 C31.5457783,1.83333333 27.3269231,5.93738979 27.3269231,11 C27.3269231,16.0626102 31.5457783,20.1666667 36.75,20.1666667 Z"
                    data-fill="#fada0a"
                  />
                </g>
              </g>
              <g
                className={namespace('humanoid__left-arm')}
                transform="rotate(-64 195.804 48.642)">
                <rect width="213" height="19" />
                <rect width="123.316" height="19" />
                <path
                  fill={skinTone.base}
                  d="M61.6578947,3.8 C61.5000132,3.8 61.3449342,3.810925 61.1907895,3.824225 L61.1907895,3.81995 C50.0195,4.76995 20.3840066,7.2903 16.6602434,7.60665 L16.6602434,7.615675 C15.7022105,7.697375 14.9473684,8.504875 14.9473684,9.5 C14.9473684,10.495125 15.7022105,11.302625 16.6602434,11.384325 L16.6602434,11.39335 C20.3840066,11.7097 50.0195,14.23005 61.1907895,15.18005 L61.1907895,15.175775 C61.3449342,15.189075 61.5000132,15.2 61.6578947,15.2 C64.7534013,15.2 67.2631579,12.647825 67.2631579,9.5 C67.2631579,6.352175 64.7534013,3.8 61.6578947,3.8 Z"
                  data-fill="#e29f71"
                />
                <g transform="translate(0 -1.425)">
                  <rect width="34" height="19" y="1.425" />
                  <path
                    fill={skinTone.base}
                    d="M13.2222222,5.225 C13.0626111,5.225 12.9058333,5.235925 12.75,5.249225 L12.75,5.24495 C11.0632222,5.386975 7.49652778,5.687175 4.56355556,5.9337 C1.98286111,6.150775 0,8.320575 0,10.925 C0,13.529425 1.98286111,15.699225 4.56355556,15.9163 C7.49652778,16.162825 11.0632222,16.463025 12.75,16.60505 L12.75,16.600775 C12.9058333,16.614075 13.0626111,16.625 13.2222222,16.625 C16.3516389,16.625 18.8888889,14.072825 18.8888889,10.925 C18.8888889,7.777175 16.3516389,5.225 13.2222222,5.225"
                    data-fill="#e29f71"
                  />
                  <g transform="rotate(-45 11.165 1.092)">
                    <rect width="11.333" height="19" />
                    <path
                      fill={skinTone.base}
                      d="M9.44444444,0 C8.40130556,0 7.55555556,0.850725 7.55555556,1.9 L7.55555556,9.5 C7.55555556,10.549275 8.40130556,11.4 9.44444444,11.4 C10.4875833,11.4 11.3333333,10.549275 11.3333333,9.5 L11.3333333,1.9 C11.3333333,0.850725 10.4875833,0 9.44444444,0"
                      data-fill="#e29f71"
                    />
                  </g>
                </g>
                <mask
                  id="prototype-f"
                  fill="var(--blizzard, #fff)"
                  data-fill="#fff">
                  <use xlinkHref="#prototype-e" />
                </mask>
                <path
                  fill={skinTone.base}
                  d="M106.5,0 C105.34298,0 104.239678,0.2242 103.217184,0.615125 L103.217184,0.605625 C97.1602303,2.917925 90.7169803,4.00425 84.250375,3.80285 L84.250375,3.809025 C84.1929211,3.807125 84.1368684,3.8 84.0789474,3.8 L61.6578947,3.8 C58.5623882,3.8 56.0526316,6.352175 56.0526316,9.5 C56.0526316,12.647825 58.5623882,15.2 61.6578947,15.2 L84.0789474,15.2 C84.1368684,15.2 84.1929211,15.192875 84.250375,15.190975 L84.250375,15.19715 C90.7169803,14.99575 97.1602303,16.082075 103.217184,18.394375 L103.217184,18.384875 C104.239678,18.7758 105.34298,19 106.5,19 C111.659645,19 115.842105,14.74685 115.842105,9.5 C115.842105,4.25315 111.659645,0 106.5,0 Z"
                  mask="url(#prototype-f)"
                  data-fill="#e29f71"
                />
                <path
                  fill="var(--cinnabar, #ed4a4a)"
                  d="M84.0789474,2.85 C90.6184211,2.85 97.4517039,2.5232 103.584796,0.474525 L103.584796,0.478325 C104.503125,0.171475 105.480776,0 106.5,0 C111.659645,0 115.842105,4.25315 115.842105,9.5 C115.842105,14.74685 111.659645,19 106.5,19 C105.480776,19 104.503125,18.828525 103.584796,18.521675 L103.584796,18.525475 C97.4517039,16.4768 90.6184211,16.15 84.0789474,16.15 L67.2631579,16.15 L67.2631579,2.85 L84.0789474,2.85 Z"
                  data-fill="#ed4a4a"
                />
                <path
                  fill="var(--cinnabar, #ed4a4a)"
                  d="M70.0657895,17.1 L68.1973684,17.1 C67.6816842,17.1 67.2631579,16.6744 67.2631579,16.15 L67.2631579,2.85 C67.2631579,2.325125 67.6816842,1.9 68.1973684,1.9 L70.0657895,1.9 C70.5814737,1.9 71,2.325125 71,2.85 L71,16.15 C71,16.6744 70.5814737,17.1 70.0657895,17.1 Z"
                  data-fill="#ed4a4a"
                />
              </g>
              <g
                className={namespace('humanoid__right-arm')}
                transform="scale(-1 1) rotate(-73 43.054 239.69)">
                <rect width="213" height="19" />
                <rect width="123.316" height="19" />
                <path
                  fill={skinTone.base}
                  d="M61.6578947,3.8 C61.5000132,3.8 61.3449342,3.810925 61.1907895,3.824225 L61.1907895,3.81995 C50.0195,4.76995 20.3840066,7.2903 16.6602434,7.60665 L16.6602434,7.615675 C15.7022105,7.697375 14.9473684,8.504875 14.9473684,9.5 C14.9473684,10.495125 15.7022105,11.302625 16.6602434,11.384325 L16.6602434,11.39335 C20.3840066,11.7097 50.0195,14.23005 61.1907895,15.18005 L61.1907895,15.175775 C61.3449342,15.189075 61.5000132,15.2 61.6578947,15.2 C64.7534013,15.2 67.2631579,12.647825 67.2631579,9.5 C67.2631579,6.352175 64.7534013,3.8 61.6578947,3.8 Z"
                  data-fill="#e29f71"
                />
                <g transform="translate(0 -1.425)">
                  <rect width="34" height="19" y="1.425" />
                  <path
                    fill={skinTone.base}
                    d="M13.2222222,5.225 C13.0626111,5.225 12.9058333,5.235925 12.75,5.249225 L12.75,5.24495 C11.0632222,5.386975 7.49652778,5.687175 4.56355556,5.9337 C1.98286111,6.150775 0,8.320575 0,10.925 C0,13.529425 1.98286111,15.699225 4.56355556,15.9163 C7.49652778,16.162825 11.0632222,16.463025 12.75,16.60505 L12.75,16.600775 C12.9058333,16.614075 13.0626111,16.625 13.2222222,16.625 C16.3516389,16.625 18.8888889,14.072825 18.8888889,10.925 C18.8888889,7.777175 16.3516389,5.225 13.2222222,5.225"
                    data-fill="#e29f71"
                  />
                  <g transform="rotate(-45 11.165 1.092)">
                    <rect width="11.333" height="19" />
                    <path
                      fill={skinTone.base}
                      d="M9.44444444,0 C8.40130556,0 7.55555556,0.850725 7.55555556,1.9 L7.55555556,9.5 C7.55555556,10.549275 8.40130556,11.4 9.44444444,11.4 C10.4875833,11.4 11.3333333,10.549275 11.3333333,9.5 L11.3333333,1.9 C11.3333333,0.850725 10.4875833,0 9.44444444,0"
                      data-fill="#e29f71"
                    />
                  </g>
                </g>
                <mask
                  id="prototype-h"
                  fill="var(--blizzard, #fff)"
                  data-fill="#fff">
                  <use xlinkHref="#prototype-g" />
                </mask>
                <path
                  fill={skinTone.base}
                  d="M106.5,0 C105.34298,0 104.239678,0.2242 103.217184,0.615125 L103.217184,0.605625 C97.1602303,2.917925 90.7169803,4.00425 84.250375,3.80285 L84.250375,3.809025 C84.1929211,3.807125 84.1368684,3.8 84.0789474,3.8 L61.6578947,3.8 C58.5623882,3.8 56.0526316,6.352175 56.0526316,9.5 C56.0526316,12.647825 58.5623882,15.2 61.6578947,15.2 L84.0789474,15.2 C84.1368684,15.2 84.1929211,15.192875 84.250375,15.190975 L84.250375,15.19715 C90.7169803,14.99575 97.1602303,16.082075 103.217184,18.394375 L103.217184,18.384875 C104.239678,18.7758 105.34298,19 106.5,19 C111.659645,19 115.842105,14.74685 115.842105,9.5 C115.842105,4.25315 111.659645,0 106.5,0 Z"
                  mask="url(#prototype-h)"
                  data-fill="#e29f71"
                />
                <path
                  fill="var(--cinnabar, #ed4a4a)"
                  d="M84.0789474,2.85 C90.6184211,2.85 97.4517039,2.5232 103.584796,0.474525 L103.584796,0.478325 C104.503125,0.171475 105.480776,0 106.5,0 C111.659645,0 115.842105,4.25315 115.842105,9.5 C115.842105,14.74685 111.659645,19 106.5,19 C105.480776,19 104.503125,18.828525 103.584796,18.521675 L103.584796,18.525475 C97.4517039,16.4768 90.6184211,16.15 84.0789474,16.15 L67.2631579,16.15 L67.2631579,2.85 L84.0789474,2.85 Z"
                  data-fill="#ed4a4a"
                />
                <path
                  fill="var(--cinnabar, #ed4a4a)"
                  d="M70.0657895,17.1 L68.1973684,17.1 C67.6816842,17.1 67.2631579,16.6744 67.2631579,16.15 L67.2631579,2.85 C67.2631579,2.325125 67.6816842,1.9 68.1973684,1.9 L70.0657895,1.9 C70.5814737,1.9 71,2.325125 71,2.85 L71,16.15 C71,16.6744 70.5814737,17.1 70.0657895,17.1 Z"
                  data-fill="#ed4a4a"
                />
              </g>
              <g transform="translate(111.533 94.994)">
                <rect width="57" height="171" />
                <path
                  fill="var(--blizzard, #fff)"
                  d="M54.8919868,22.1518418 C57.9101835,17.7978473 57.1084458,10.9778283 51.082331,8.24740435 C47.6698065,6.70096957 43.7952081,5.4997875 39.6075769,4.72285272 C38.8670442,8.35335 34.1776261,11.152081 28.4995851,11.152081 C22.8210769,11.152081 18.1321261,8.35288533 17.3911261,4.72285272 C13.203495,5.4997875 9.32889662,6.70096957 5.9154376,8.24740435 C-0.133103384,10.9885158 -0.916619777,17.8484967 2.14222448,22.2001679 C11.7537327,38.0948038 12.8376671,57.7091543 4.98988842,74.5670592 L4.98988842,74.5670592 C3.4396753,77.8918011 2.56879006,81.5938582 2.56879006,85.4999071 C2.56879006,93.7120891 14.2827573,100.369472 28.7327245,100.369472 C43.1826917,100.369472 54.8966589,93.7120891 54.8966589,85.4999071 C54.8966589,81.4479505 53.965036,77.6129967 52.3036261,74.1939261 C44.4960278,57.4721707 45.4739048,38.0102332 54.8919868,22.1518418 Z"
                  data-fill="#fff"
                />
                <path
                  fill="#000"
                  fillOpacity=".03"
                  d="M28.5,40.8911623 C23.3723361,40.8911623 18.8478443,40.5705373 16.1543607,40.0812357 C15.1545246,39.8995482 14.6326475,41.2173634 15.4806393,41.7754368 C18.0479754,43.4668498 22.9168033,44.6085536 28.5,44.6085536 C34.0831967,44.6085536 38.9520246,43.4668498 41.5193607,41.7754368 C42.3673525,41.2173634 41.8454754,39.8995482 40.8456393,40.0812357 C38.1521557,40.5705373 33.6276639,40.8911623 28.5,40.8911623"
                />
                <path
                  fill="var(--cinnabar, #ed4a4a)"
                  d="M39.6069696,4.72657011 C38.8636335,8.3552087 34.1756171,11.152081 28.499445,11.152081 C22.8232728,11.152081 18.1347892,8.3552087 17.3919204,4.72657011 C16.7756663,4.84087989 16.1640843,4.96169511 15.5613794,5.09459185 C16.4981417,9.57404837 21.9332319,13.0107766 28.499445,13.0107766 C35.0656581,13.0107766 40.5007483,9.57404837 41.4375106,5.09459185 C40.8352728,4.96169511 40.2232237,4.84134457 39.6069696,4.72657011 Z"
                  data-fill="#ed4a4a"
                />
                <path
                  fill={skinTone.base}
                  d="M39.6076237,4.72294565 C36.0974515,4.0719375 32.3681565,3.7173913 28.4991646,3.7173913 C24.6301728,3.7173913 20.9008778,4.07147283 17.3911728,4.72294565 C18.1321728,8.35297826 22.8211237,11.1521739 28.4996319,11.1521739 C34.1776728,11.1521739 38.8670909,8.35297826 39.6076237,4.72294565 Z"
                  data-fill="#e29f71"
                />
              </g>
            </g>
          </g>
          <rect
            width="104"
            height="56"
            x="76"
            y="112"
            fill="var(--fossil, #c9c9c9)"
            rx="2"
            data-fill="#c9c9c9"
          />
          <mask id="prototype-j" fill="#fff">
            <use xlinkHref="#prototype-i" />
          </mask>
          <rect
            width="104"
            height="56"
            x="76"
            y="112"
            fill="#000"
            fillOpacity=".03"
            mask="url(#prototype-j)"
            rx="2"
          />
          <rect
            width="180"
            height="1"
            x="28"
            y="167"
            fill="var(--viking-shade, #056878)"
            rx=".5"
            data-fill="#056878"
          />
          <rect
            width="16"
            height="1"
            x="212"
            y="167"
            fill="var(--viking-shade, #056878)"
            rx=".5"
            data-fill="#056878"
          />
          <use
            fill="#000"
            filter="url(#prototype-k)"
            xlinkHref="#prototype-l"
          />
          <use fill="#FFF" xlinkHref="#prototype-l" />
        </g>
      </svg>
    );
  }
}

// * React component
export default class Modal extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      mounted: false
    };

    this.gridItems =
      this.props.buttons.length > 1
        ? 'grid__item--s-6'
        : 'grid__item--s-12 grid__item--m-6';
  }

  componentDidMount() {
    this.showModal();
  }

  componentWillUnmount() {
    this.hideModal();
  }

  handleClick = () => {
    this.setState({ mounted: false });
  };

  showModal = () => {
    setTimeout(() => {
      this.setState({ mounted: true });
    }, 1500);
  };

  render() {
    const { props, state, gridItems, handleClick } = this;

    let classNames = namespace('modal');

    state.mounted && (classNames += ` ${namespace('mounted')}`);

    props.className && (classNames += ` ${props.className}`);

    return (
      <div className={classNames} style={props.style}>
        <div className={namespace('modal__outer')}>
          <ModalImage className={namespace('modal__image')} />
          <Heading level={3} modifiers="h3--center">
            {props.message}
          </Heading>
          <div className={namespace('modal__inner')}>{props.children}</div>

          <div className={namespace('modal__actions')}>
            <Grid modifiers="grid--gutter-x-fixed">
              {props.buttons.length &&
                props.buttons.map((button, index) => (
                  <GridItem key={index} modifiers={gridItems}>
                    <Button
                      modifiers={button.modifiers}
                      action={button.action}
                      onClick={handleClick}
                    />
                  </GridItem>
                ))}
            </Grid>
          </div>
        </div>
      </div>
    );
  }
}

Modal.propTypes = {
  className: PropTypes.string,
  style: PropTypes.object,
  message: PropTypes.string.isRequired,
  children: PropTypes.node.isRequired,
  buttons: PropTypes.arrayOf(
    PropTypes.shape({
      modifiers: PropTypes.string.isRequired,
      action: PropTypes.string.isRequired,
      onClick: PropTypes.oneOfType([PropTypes.func, PropTypes.string])
        .isRequired
    })
  ).isRequired
};

Modal.defaultProps = {
  buttons: {
    onClick: () => {}
  }
};
