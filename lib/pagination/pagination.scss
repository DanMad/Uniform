// Pattern outline
// * .pagination
// *   .pagination__list
// *     .pagination__item
// *   .pagination__list
// *     .pagination__highlight
// *     .pagination__item
// *   .pagination__list
// *     .pagination__item

// Imports
@import '../utilities/scss/variables/namespace';
@import '../utilities/scss/variables/tokens';
@import '../utilities/scss/functions/rem';
@import '../utilities/scss/mixins/bem';
@import '../utilities/scss/mixins/device';
@import '../utilities/scss/mixins/pseudo';

// Rules
@include b(pagination) {
  z-index: $z-index-pagination;
  position: fixed;
  bottom: rem(-80px);
  left: 50%;
  transform: translateX(-50%);
  box-sizing: border-box;
  width: rem(320px);
  height: rem(64px);
  padding: $space-s rem(56px);
  border-radius: $border-radius-s;
  box-shadow: $box-shadow-layer-4;
  background-color: $blizzard;
  transition: bottom $transition-duration-x4 $transition-timing-bounce-out;

  @include pseudo(focus-within) {
    outline: $focus-outline;
  }

  @include m(mounted) {
    bottom: $space-m;

    @include device(m) {
      bottom: rem(16px);
    }
    @include device(l) {
      bottom: rem(88px);
    }
  }

  @include e(list) {
    position: relative;
    height: $space-xxxl;
    margin: 0 auto;

    @include pseudo(first-child) {
      position: absolute;
      top: $space-s;
      left: $space-s;
      margin: 0;

      @include device(m) {
        top: rem(12px);
      }
    }
    @include pseudo(last-child) {
      position: absolute;
      top: $space-s;
      right: $space-s;
      margin: 0;

      @include device(m) {
        top: rem(12px);
      }
    }
  }
  @include e(item) {
    position: relative;
    float: left;
    width: $space-xxxl;
    height: $space-xxxl;
    color: $fossil;
    text-align: center;
    font-size: rem(11px);
    font-weight: 700;
    line-height: $space-xxxl;
    user-select: none;

    @include pseudo(nth-last-child(2)) {
      width: $space-m;
    }

    @include pseudo(focus) {
      outline: none;
    }

    @include m(selectable) {
      color: $gunmetal;

      @include pseudo(before) {
        content: '';
        opacity: 0;
        position: absolute;
        top: rem(52px);
        left: 50%;
        transform: translateX(-50%);
        width: rem(4px);
        height: rem(4px);
        border-radius: $border-radius-round;
        background-color: $christi-shade;
        transition: opacity $transition-duration-x1 $transition-timing-default,
          top $transition-duration-x2 $transition-timing-bounce-out;
        pointer-events: none;
      }
      @include pseudo(after) {
        content: '*';
        opacity: 0;
        position: absolute;

        // * Visual hack.
        top: rem(53px);

        left: 50%;
        transform: translateX(-50%);
        border-radius: $border-radius-round;
        color: $cinnabar-shade;
        font-size: rem(11px);
        text-align: center;
        line-height: rem(4px);
        transition: opacity $transition-duration-x1 $transition-timing-default,
          top $transition-duration-x2 $transition-timing-bounce-out;
        pointer-events: none;
      }

      @include m(active) {
        color: $charcoal;

        @include device(no-touch) {
          cursor: default;

          @include pseudo(hover) {
            color: $charcoal;
          }
          @include pseudo(active) {
            color: $charcoal;
          }
        }
      }

      @include m(populated) {
        @include pseudo(before) {
          opacity: 1;
          top: rem(36px);
        }

        @include m(active) {
          @include pseudo(before) {
            background-color: $christi;
          }
        }
      }

      @include m(required) {
        @include pseudo(after) {
          opacity: 1;

          // * Visual hack.
          top: rem(37px);

          @include m(active) {
            @include pseudo(after) {
              color: $cinnabar;
            }
          }
        }
      }

      @include device(no-touch) {
        cursor: pointer;

        @include pseudo(hover) {
          color: $state-default-hover;
        }
        @include pseudo(active) {
          color: $state-default-active;
        }
      }
    }

    @include device(m) {
      width: rem(56px);
      font-size: rem(12px);
    }
  }
  @include e(label) {
    display: none;
  }
  @include e(highlight) {
    position: absolute;
    top: rem(4px);
    left: rem(4px);
    width: rem(40px);
    height: rem(40px);
    border-radius: $border-radius-round;
    background-color: $selection-background;
    transition: transform $transition-duration-x3 $transition-timing-bounce-out;
  }

  @include device(m) {
    bottom: rem(-88px);
    width: rem(464px);
    height: rem(72px);
    padding: rem(12px) rem(56px);
  }
  @include device(l) {
    width: rem(656px);
    bottom: rem(-88px);
    padding: rem(12px) rem(96px);
  }
}

// @include pre('.pagination') {
// }

// @include pre('.pagination:focus-within') {
// }

// @include pre('.pagination.mounted') {
// }

// @include pre('.pagination__list') {
// }

// @include pre('.pagination__list:first-child') {
// }
// @include pre('.pagination__list:last-child') {
// }

// @include pre('.pagination__item') {
// }

// @include pre('.pagination__item:nth-last-child(2)') {
// }

// @include pre('.pagination__item:focus') {
// }

// @include pre('.pagination__item--selectable') {
// }

// @include pre('.pagination__item--selectable.active') {
// }

// @include pre('.pagination__item--selectable::before') {
// }

// @include pre(
//   '.pagination__item--selectable.pagination__item--populated::before'
// ) {
// }
// @include pre(
//   '.pagination__item--selectable.pagination__item--populated.active::before'
// ) {
// }

// @include pre('.pagination__item--selectable::after') {
// }

// @include pre(
//   '.pagination__item--selectable.pagination__item--required::after'
// ) {
// }
// @include pre(
//   '.pagination__item--selectable.pagination__item--required.active::after'
// ) {
// }

// @include pre('.pagination__label') {
// }

// @include pre('.pagination__highlight') {
// }

// no-touchevents // ----------------------------------------------------------
@include pre('.no-touchevents') {
  // @include pre('.pagination__item--selectable') {
  // }

  // @include pre('.pagination__item--selectable:hover') {
  // }
  // @include pre('.pagination__item--selectable:active') {
  // }

  // @include pre('.pagination__item.active') {
  // }

  // @include pre('.pagination__item.active:hover') {
  // }
  // @include pre('.pagination__item.active:active') {
  // }

  @include pre(
    '.pagination__item--selectable.pagination__item--populated:hover::before'
  ) {
    background-color: $christi;
  }
  @include pre(
    '.pagination__item--selectable.pagination__item--populated:active::before'
  ) {
    background-color: $christi-shade;
  }

  @include pre(
    '.pagination__item--selectable.pagination__item--required:hover::after'
  ) {
    color: $cinnabar;
  }
  @include pre(
    '.pagination__item--selectable.pagination__item--required:active::after'
  ) {
    color: $cinnabar-shade;
  }

  @include pre('.pagination__item--selectable > .icon') {
    stroke: currentColor;
  }
  @include pre('.pagination__item--selectable:hover > .icon') {
    stroke: $state-default-hover;
  }
  @include pre('.pagination__item--selectable:active > .icon') {
    stroke: $state-default-active;
  }

  @include pre('.pagination__label') {
    cursor: default;
  }
}

// medium // ------------------------------------------------------------------
@media #{$media-m} {
  // @include pre('.pagination') {
  // }

  // @include pre('.pagination.mounted') {
  // }

  // @include pre('.pagination__list:first-child') {
  // }

  // @include pre('.pagination__list:last-child') {
  // }

  // @include pre('.pagination__item') {
  // }

  @include pre('.pagination__item--previous') {
    width: rem(48px);
  }
  @include pre('.pagination__item--next') {
    width: rem(48px);
  }

  @include pre('.pagination__highlight') {
    left: rem(8px);
  }
}

// large // -------------------------------------------------------------------
@media #{$media-l} {
  // @include pre('.pagination') {
  // }

  // @include pre('.pagination.mounted') {
  // }

  @include pre('.pagination__item') {
    font-size: rem(13px);
  }

  @include pre('.pagination__item--previous') {
    width: rem(88px);
  }
  @include pre('.pagination__item--next') {
    width: rem(88px);
  }

  @include pre('.pagination__label') {
    position: absolute;
    top: 0;
    display: block;
  }

  @include pre('.pagination__item--previous > .pagination__label') {
    left: rem(48px);
  }
  @include pre('.pagination__item--next > .pagination__label') {
    right: rem(48px);
  }
}
