// * utility imports
@import '../partials/prefix';
@import '../partials/rem';

// * token imports
@import '../partials/tokens';

// global // ------------------------------------------------------------------
@include pre('.toast') {
  position: absolute;

  // * IE doesn't support calc in transformations.
  // * Safari mobile ignores transition-timing-functions if different units
  // * are used to declare states; i.e. right: -100%; doesn't play nicely
  // * with right: 16px;. Both must be declared using the same unit.
  right: rem(-352px);

  transform: translateY(-50%);
  box-sizing: border-box;
  width: rem(calc(100% - 32px));
  padding: $space-m rem(40px) $space-m rem(52px);
  border-radius: $border-radius-m;
  box-shadow: $box-shadow-layer-4;
  margin: $space-stack-m;
  background-color: $blizzard;
  transition: $transition-duration-x4 $transition-timing-bounce-out;
  transition-property: top, right;
  pointer-events: auto;
}

@include pre('.toast:focus-within') {
  outline: $focus-outline;
}

@include pre('.toast.mounted') {
  right: rem(16px);
}

@include pre('.toast::before') {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: rem(4px);
  height: 100%;
  border-top-left-radius: $border-radius-m;
  border-bottom-left-radius: $border-radius-m;
  background-color: $state-default;
}

@include pre('.toast--error::before') {
  background-color: $state-error;
}

@include pre('.toast--success::before') {
  background-color: $state-success;
}

@include pre('.toast__heading') {
  color: $charcoal;
  font-size: rem(14px);
  font-weight: 700;
  line-height: rem(24px);
}

@include pre('.toast__message') {
  color: $gunmetal;
  font-size: rem(14px);
  line-height: rem(24px);
}

@include pre('.toast__button') {
  position: absolute;
  top: rem(8px);
  right: rem(8px);
  width: rem(24px);
  height: rem(24px);
  padding: 0;
  border: none;
  outline: none;
  background-color: transparent;
}

@include pre('.toast__button > .icon') {
  stroke: $gunmetal;
}

@include pre('.toast > .icon') {
  position: absolute;
  top: 50%;
  left: rem(16px);
  transform: translateY(-50%);
  width: rem(24px);
  height: rem(24px);
}

@include pre('.toast > .icon--close-ring') {
  stroke: $state-error;
}
@include pre('.toast > .icon--tick-ring') {
  stroke: $state-success;
}

// no-touchevents // ----------------------------------------------------------
@include pre('.no-touchevents') {
  @include pre('.toast') {
    user-select: none;
  }

  @include pre('.toast__button') {
    cursor: pointer;
  }

  @include pre('.toast__button:hover > .icon') {
    stroke: $state-default-hover;
  }
  @include pre('.toast__button:focus > .icon') {
    stroke: $state-default-focus;
  }
  @include pre('.toast__button:active > .icon') {
    stroke: $state-default-active;
  }
}
