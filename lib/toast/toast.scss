// Pattern outline
// * .toast
// *   .toast__heading
// *   .toast__message
// *   .toast__button

// Imports
@import '../utilities/scss/variables/namespace';
@import '../utilities/scss/variables/tokens';
@import '../utilities/scss/functions/rem';

// Rules
.#{$pre}-toast {
  position: fixed;

  // * IE11 doesn't support calc() in transformations.
  // * Mobbile Safari ignores transition-timing-functions if different units
  // * are used to declare states; i.e. right: -100%; doesn't play nicely
  // * with right: 16px;. Both must be declared using the same unit.
  right: rem(-352px);

  transform: translateY(-50%);
  box-sizing: border-box;
  width: calc(100% - #{rem(32px)});

  // * iPhone 8 dimensions - 32px.
  max-width: rem(343px);

  padding: $space-m rem(40px) $space-m rem(52px);
  border-radius: $border-radius-m;
  box-shadow: $box-shadow-layer-4;
  margin: $space-stack-m;
  background-color: $blizzard;
  transition: $transition-duration-x4 $transition-timing-bounce-out;
  transition-property: top, right;
  pointer-events: auto;
}

.#{$pre}-toast:focus-within {
  outline: $focus-outline;
}

.#{$pre}-toast.#{$pre}-mounted {
  right: $space-m;
}

.#{$pre}-toast::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: rem(4px);
  height: 100%;
  border-top-left-radius: $border-radius-m;
  border-bottom-left-radius: $border-radius-m;
  background-color: $state-default;
}

.#{$pre}-toast--error::before {
  background-color: $state-error;
}
.#{$pre}-toast--success::before {
  background-color: $state-success;
}

.#{$pre}-toast__heading {
  color: $charcoal;
  font-size: rem(14px);
  font-weight: 700;
  line-height: rem(24px);
}

.#{$pre}-toast__message {
  color: $gunmetal;
  font-size: rem(14px);
  line-height: rem(24px);
}

.#{$pre}-toast__button {
  position: absolute;
  top: rem(8px);
  right: rem(8px);
  width: rem(24px);
  height: rem(24px);
  padding: 0;
  border: none;
  outline: none;
  background-color: transparent;
}

.#{$pre}-no-touchevents {
  .#{$pre}-toast {
    user-select: none;
  }

  .#{$pre}-toast__button {
    cursor: pointer;
  }
}
